<!DOCTYPE html>
<html>
  <head>
    <title>15-04-03</title>
    <script>
      window.onload = function() {
        /*
         * 在 H5 中, 标签上可以添加一类特殊的自定义属性（dataset attribute）,
         * 这类属性的特点为：
         *     属性名小写
         *     属性名前缀为 "data-"
         */
        const pEl = document.getElementById("p01");
        if (pEl) {
          console.log(pEl.getAttribute("data-foo"));
          console.log(pEl.getAttribute("data-bar-baz"));
        }

        /*
         * HTMLElement.prototype.dataset
         *
         * 表示标签上所有的 dataset attribute 组成的对象,
         * 其中属性名为该 dataset attribute 去掉 "data-" 前缀,
         * 且将 kebab-case 转换为 camelCase, 如：data-foo-bar 对应为 fooBar；
         */
        console.log(pEl.dataset.foo);
        console.log(pEl.dataset.barBaz);

        console.log(pEl.dataset);

        /*
         * dataset 对象中的属性和其对应的 dataset attribute,
         * 是双向绑定的, 即修改其中一个, 会影响另外一个；
         */
        const buttonEl = document.getElementById("button01");
        if (buttonEl) {
          buttonEl.onclick = function() {
            pEl.dataset.foo = "foo02";
            /* foo02 */
            console.log(pEl.getAttribute("data-foo"));
          };
        }
      };
    </script>
  </head>
  <body>
    <p
        id="p01"
        data-foo="foo"
        data-bar-baz="bar-baz"
    ></p>
    <button id="button01">change data-foo</button>
  </body>
</html>
