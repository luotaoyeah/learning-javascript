<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>20.1 localStorage and sessionStorage</title>
    <script>
      window.onload = function() {
        /*
         * 实现 web storage 规范的浏览器，会在 window 对象上，
         * 添加两个属性 window.localStorage 和 window.sessionStorage，
         * 这两个属性都是 Storage 对象，用来存储字符串类型的键值对；
         *
         * localStorage 和 sessionStorage 的区别在于：声明周期和作用域；
         */

        var username = window.localStorage.username;
        username = localStorage["username"];

        if (!username) {
          username = window.prompt("what is your name ?");
          localStorage.username = username;
        }

        for (var name in localStorage) {
          if (localStorage.hasOwnProperty(name)) {
            console.log(name, localStorage[name]);
          }
        }
      };
    </script>
  </head>
  <body>
  </body>
</html>
