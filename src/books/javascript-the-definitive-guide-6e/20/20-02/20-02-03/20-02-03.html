<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>20.2.3 Reading Cookies</title>
    <script>
      window.onload = function() {
        /*
         * 直接读取 document.cookie 属性值，
         * 返回的字符串中包含所有的（未过期的）cookie，
         * 每一个 cookie 为 name=value 的性质，
         * cookie 之间使用（; ）分隔，
         * 如：name=foo; age=18; score=100
         */

        /*
         * 通常可以使用 String.split() 方法，
         * 将多个 cookie 拆分出来；
         */
        document.cookie = "name=luotao; max-age=60";
        document.cookie = "age=18; max-age=600";
        /* name=luotao; age=18 */
        console.log(document.cookie);
        console.log(document.cookie.split("; "));

        /*
         * 拿到 cookie 的 value 之后，通常需要进行转义和解析；
         */
        document.cookie = "person=" + encodeURIComponent(JSON.stringify({
          name: "luotao",
          age: 18
        }));
        const value = document.cookie.split("; ")[2].split("=")[1];
        /* {name: "luotao", age: 18} */
        console.log((JSON.parse(decodeURIComponent(value))));
      };
    </script>
  </head>
  <body>

  </body>
</html>
