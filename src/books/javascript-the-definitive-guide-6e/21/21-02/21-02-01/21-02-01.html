<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>21.2.1 Type Selection and Loading</title>
    <script>
      window.onload = function() {
        /*
         * HTMLMediaElement.canPlayType() 方法，
         * 用于测试是否可以播放某个格式，
         * 返回值可能为：""，"maybe"，"probably"；
         */
        const audio = new Audio();
        /* probably */
        console.log(audio.canPlayType("audio/mp3"));
        /* mayby */
        console.log(audio.canPlayType("audio/ogg"));
        /* "" */
        console.log(audio.canPlayType("video/avi"));

        /*
         * 当设置 src 属性时，浏览器会开始加载文件（不会加载很多），
         * 同时，如果当前正在播放其他的文件，则当前的播放会被终止；
         */
        window.button01.onclick = function() {
          window.audio01.src = "../21-02-b.mp3";
          window.audio01.play();
        };

        /*
         * 如果使用 <source> 标签而不是设置 src 属性，
         * 那么除非调用 HTMLMediaElement.load() 方法，
         * 否则浏览器不会自动加载文件；
         */
      };
    </script>
  </head>
  <body>
    <button id="button01">play</button>
    <p>
      <audio
          id="audio01"
          src="../21-02-a.mp3"
          controls
      ></audio>
    </p>
  </body>
</html>
