<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Example 20-1. Parsing the document.cookies property</title>
    <script>
      /**
       * 获取 cookie 对象
       */
      function getCookies() {
        var cookie = {};
        if (!document.cookie) {
          return cookie;
        }

        const cookies = document.cookie.split("; ");
        for (var i = 0; i < cookies.length; i++) {
          const cookiePair = cookies[i].split("=");
          cookie[cookiePair[0]] = decodeURIComponent(cookiePair[1]);
        }

        return cookie;
      }

      window.onload = function() {
        document.cookie = "name=foo";
        document.cookie = "age=18";
        document.cookie = "person=" + encodeURIComponent(JSON.stringify({
          name: "foo",
          age: 18
        }));

        console.log(getCookies());
      };
    </script>
  </head>
  <body>

  </body>
</html>
